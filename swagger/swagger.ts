import swaggerJsdoc from 'swagger-jsdoc'const options = {  definition: {    openapi: '3.0.0',    info: {      title: 'Pagandu Fintech AUTH SERVICE API',      version: '1.0.0',      description:        'Documentação completa do microserviço de autenticação, incluindo login, registro e 2FA.'    },    servers: [      {        url: 'https://api.pagandu.com',        description: 'Produção'      },      {        url: 'http://localhost:4000',        description: 'Local'      }    ],    components: {      schemas: {        User: {          type: 'object',          properties: {            id: { type: 'integer', example: 1 },            name: { type: 'string', example: 'Gabriel Seba' },            email: { type: 'string', example: 'user@example.com', nullable: true },            document: { type: 'string', example: '12345678900', nullable: true },            cnpj: { type: 'string', example: '12345678000199', nullable: true },            external_id: { type: 'string', example: 'ext-123', nullable: true },            company_name: { type: 'string', example: 'Pagandu Games LTDA', nullable: true },            trade_name: { type: 'string', example: 'Pagandu Games', nullable: true },            partner_name: { type: 'string', example: 'Gabriel Seba', nullable: true },            status: { type: 'string', example: 'ACTIVE', nullable: true },            app_id: { type: 'string', example: 'mg_live_892384923849238', nullable: true },            created_at: { type: 'string', format: 'date-time' },            updated_at: { type: 'string', format: 'date-time', nullable: true }          }        },        UserRegisterRequest: {          type: 'object',          required: ['name', 'email', 'password', 'personType'],          properties: {            name: { type: 'string', example: 'Gabriel Seba' },            email: { type: 'string', format: 'email', example: 'gabi@example.com' },            password: { type: 'string', example: 'minhaSenha123' },            personType: {              type: 'string',              description: 'Tipo de pessoa: PF (física) ou PJ (jurídica)',              enum: ['PF', 'PJ'],              example: 'PF'            },            document: {              type: 'string',              nullable: true,              description: 'CPF, obrigatório quando personType = PF',              example: '12345678900'            },            cnpj: {              type: 'string',              nullable: true,              description: 'CNPJ, obrigatório quando personType = PJ',              example: '12345678000199'            },            companyName: {              type: 'string',              nullable: true,              description: 'Razão social, obrigatório quando personType = PJ',              example: 'Pagandu Games LTDA'            },            tradeName: {              type: 'string',              nullable: true,              description: 'Nome fantasia',              example: 'Pagandu Games'            },            partnerName: {              type: 'string',              nullable: true,              description: 'Nome do responsável / contato comercial',              example: 'Gabriel Seba'            },            externalId: {              type: 'string',              nullable: true,              description: 'ID de referência externa (front, outro sistema)',              example: 'ref-front-001'            }          }        },        TokenRequest: {          type: 'object',          required: ['appId', 'appSecret'],          properties: {            appId: { type: 'string', example: 'mg_live_892384923849238' },            appSecret: { type: 'string', example: 'sk_live_5f4dcc3b5aa765d61d8327deb882cf99' }          }        },        TokenResponse: {          type: 'object',          properties: {            ok: { type: 'boolean', example: true },            accessToken: { type: 'string', example: 'jwt-token-aqui' },            operatorId: { type: 'integer', example: 99 }          }        },        UserLoginRequest: {          type: 'object',          required: ['email', 'password'],          properties: {            email: { type: 'string', format: 'email', example: 'gabi@example.com' },            password: { type: 'string', example: 'minhaSenha123' }          }        },        UserAuthResponse: {          type: 'object',          properties: {            ok: { type: 'boolean', example: true },            token: { type: 'string', example: 'jwt-token-usuario-aqui' },            user: {              type: 'object',              properties: {                id: { type: 'integer', example: 1 },                name: { type: 'string', example: 'Gabriel Seba' },                email: { type: 'string', example: 'gabi@example.com' },                status: { type: 'string', example: 'ACTIVE' },                document: { type: 'string', example: '12345678900', nullable: true },                cnpj: { type: 'string', example: '12345678000199', nullable: true },                companyName: { type: 'string', example: 'Pagandu Games LTDA', nullable: true },                tradeName: { type: 'string', example: 'Pagandu Games', nullable: true },                partnerName: { type: 'string', example: 'Gabriel Seba', nullable: true }              }            }          }        },        ErrorResponse: {          type: 'object',          properties: {            ok: { type: 'boolean', example: false },            error: { type: 'string', example: 'ValidationError' },            message: { type: 'string', example: 'Invalid payload' },            details: { type: 'object', additionalProperties: true }          }        }      }    }  },  apis: ['./routes/*.js']}export const swaggerSpec = swaggerJsdoc(options)export function getSwaggerHtml() {  return `<!DOCTYPE html><html lang="en"><head>  <meta charset="UTF-8" />  <title>Pagandu Fintech AUTH SERVICE API</title>  <link rel="stylesheet" href="https://unpkg.com/swagger-ui-dist@5/swagger-ui.css" />  <style>    html, body { margin: 0; padding: 0; height: 100%; }    #swagger-ui { height: 100%; }  </style></head><body>  <div id="swagger-ui"></div>  <script src="https://unpkg.com/swagger-ui-dist@5/swagger-ui-bundle.js"></script>  <script src="https://unpkg.com/swagger-ui-dist@5/swagger-ui-standalone-preset.js"></script>  <script>    window.onload = function () {      window.ui = SwaggerUIBundle({        url: '/docs-json',        dom_id: '#swagger-ui',        presets: [          SwaggerUIBundle.presets.apis,          SwaggerUIStandalonePreset        ],        layout: 'StandaloneLayout'      });    };  </script></body></html>`}